---
import { Icon } from "astro-icon/components";
import Badge from "./Badge.astro";
import Button from "./Button.astro";
import SectionTitle from "./SectionTitle.astro";

const projects = [
  {
    id: 1,
    title: "GameNest - Librería de videojuegos",
    description: [
      "Desarrollo de un servicio que permite a los usuarios encontrar juegos, guardarlos en una colección personal, calificarlos, y realizar otras acciones relacionadas.",
      "Implementación de autenticación de usuarios utilizando cookies con JWT (JSON Web Token).",
      "Utilicé el Context API de React para manejar el estado global entre componentes.",
    ],
    image: "/img/gamenest-shot.webp",
    technologies: [
      {
        name: "React.js",
        icon: "react",
      },
      {
        name: "TypeScript",
        icon: "typescript",
      },
      {
        name: "Tailwind CSS",
        icon: "tailwindcss",
      },
      {
        name: "Node.js",
        icon: "nodejs",
      },
      {
        name: "PostgreSQL",
        icon: "postgresql",
      },
    ],
    preview: "https://gamenest.onrender.com/",
    code: "https://github.com/hugodanielcabral/gamenest",
    updates: "https://danielcabral.onrender.com/tags/gamenest",
  },
  {
    id: 2,
    title: "Bohemian - Tienda de yogures y panes",
    description: [
      "Landing page de una empresa familiar que se dedica a la venta de yogures y panes. En la misma se puede ver los productos que ofrecen, sus detalles y más.",
    ],
    image: "/img/bohemian-shot.webp",
    technologies: [
      {
        name: "Astro",
        icon: "astro",
      },
      {
        name: "TypeScript",
        icon: "typescript",
      },
      {
        name: "Tailwind CSS",
        icon: "tailwindcss",
      },
    ],
    preview: "https://bohemian-pkfm.onrender.com/",
    code: "https://github.com/hugodanielcabral/bohemian",
  },
  {
    id: 3,
    title: "DonC - Servicio de reserva de alojamiento",
    description:
      "Desarrollo de un servicio de reserva de casas, hostelería, etc. En el mismo hice uso técnicas para que el usuario pueda reservar un servicio e incluso poder publicar su propio servicio.",
    image: "/img/donc-shot.webp",
    technologies: [
      {
        name: "React.js",
        icon: "react",
      },
      {
        name: "JavaScript",
        icon: "javascript",
      },
      {
        name: "Tailwind CSS",
        icon: "tailwindcss",
      },
      {
        name: "Node.js",
        icon: "nodejs",
      },
      {
        name: "PostgreSQL",
        icon: "postgresql",
      },
    ],
    code: "https://github.com/hugodanielcabral/cab_alojamientos",
  },
];
---

<section class="mt-10 space-y-8 p-4" id="projects">
  <SectionTitle title="Proyectos" icon="code" />
  {
    projects.map((project) => (
      <div class="flex lg:flex-row flex-col gap-8">
        <img
          src={project.image}
          alt={project.title}
          class="rounded-md hover:scale-95 transition-all duration-300 ease-in-out border-2 dark:border-gray-600 border-gray-300 w-full lg:max-w-xs max-h-96"
        />
        <div class="space-y-2">
          <h3 class="text-2xl text-black dark:text-white">{project.title}</h3>
          <ul class="flex flex-wrap gap-2">
            {project.technologies.map((tech) => (
              <li>
                <Badge color="darkLight">
                  <Icon name={tech.icon} class="text-white" />
                  {tech.name}
                </Badge>
              </li>
            ))}
          </ul>
          {typeof project.description === "string" ? (
            <p class="text-gray-700 dark:text-gray-300 text-lg font-nunito">
              {project.description}
            </p>
          ) : (
            <ul class="text-gray-700 dark:text-gray-300 space-y-1 text-sm sm:text-base font-nunito md:text-lg">
              {project.description.map((desc) => (
                <li>{desc}</li>
              ))}
            </ul>
          )}

          <div class="flex gap-4 flex-wrap">
            {project.preview && (
              <a
                href={project.preview}
                target="_blank"
                rel="noopener noreferrer"
              >
                <Button text="Ver proyecto">
                  <Icon
                    name="preview"
                    class="text-gray-800 dark:text-gray-300"
                  />
                </Button>
              </a>
            )}
            <a href={project.code} target="_blank" rel="noopener noreferrer">
              <Button text="Ver código">
                <Icon name="github" class="text-gray-800 dark:text-gray-300" />
              </Button>
            </a>

            {project.updates && (
              <a
                href={project.updates}
                target="_blank"
                rel="noopener noreferrer"
              >
                <Button text="Ver actualizaciones">
                  <Icon
                    name="update"
                    class="text-gray-800 dark:text-gray-300"
                  />
                </Button>
              </a>
            )}
          </div>
        </div>
      </div>
    ))
  }
</section>
